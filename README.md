# PDFReader

PDFReader 是一个基于大语言模型（LLM）的 PDF 文档分析与问答工具。

## 功能简介

- 支持将 PDF 按页转为图片并提取内容
- 自动分析并输出基于章节的 summary
- 构建向量数据库，支持高效内容检索
- 支持基于内容的智能问答，推荐带章节名提问以提升检索效果
- 支持多轮对话，自动缓存和复用历史检索内容

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

1. **准备 PDF 文件**
   - 请将你要分析的 PDF 文件放入 `data/pdf/` 目录下。
   - 例如：`data/pdf/your_file.pdf`

2. **运行主程序**
   - 在项目根目录下运行：
   ```bash
   python src/pdf_reader
   ```
   - 启动后会提示输入 PDF 文件名（如 `your_file.pdf`），无需包含路径。

3. **输出说明**
   - 首次运行会自动将 PDF 按页转为图片，提取每页内容，并输出章节结构 summary。
   - 程序会自动在 `data/` 目录下生成图片、json、向量数据库等缓存文件，加速后续访问。
   - 你可以在交互模式下继续提问，**建议提问时带上章节名**，如：
     > “请详细解释 Introduction 章节的主要内容”
   - 这样可以提升检索和回答的准确性。

4. **交互问答**
   - 支持多轮对话，输入你的问题即可获得基于 PDF 内容的智能回答。
   - 输入 `退出`、`再见`、`bye`、`exit`、`quit` 可结束对话。

## 目录结构

```
PDFReader/
├── src/
│   └── pdf_reader.py      # 主程序
│   └── llm.py             # LLM 封装
│   └── config.py          # 配置与路径
│   └── utility.py         # 工具函数
├── data/
│   └── pdf/               # 你的 PDF 文件请放在这里(需要手动创建)
│   └── pdf_image/         # 自动生成的图片
│   └── json_data/         # 自动生成的内容 json
│   └── vector_db/         # 自动生成的向量数据库
├── requirements.txt
├── README.md
└── ...
```

## 进阶说明

- **缓存机制**：已处理过的 PDF 会自动缓存图片、内容和向量数据库，重复分析同一文件时会直接复用缓存，加速处理。
- **章节检索**：每次 summary 输出后，建议后续提问时直接引用 summary 中的章节标题，检索更精准。
- **多轮对话**：每轮对话会自动复用历史检索内容，提升上下文连贯性和效率。
- **数据安全**：所有中间数据均存储在 `data/` 目录下，便于统一管理和清理。

## 许可协议

MIT 